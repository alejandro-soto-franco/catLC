\documentclass[a4paper, 11pt]{extarticle}
% \usepackage{fontspec}

% ==================================================

% document parameters
% \usepackage[spanish]{babel}
\usepackage[english]{babel}
\usepackage[margin = 1in]{geometry}
\usepackage{subcaption}
\usepackage{algorithm}
\usepackage{algpseudocode}
% ==================================================

% Packages for math
\usepackage{mathrsfs}
\usepackage{amsfonts}
\usepackage{amsmath}
\numberwithin{equation}{subsection}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{physics}
\usepackage{dsfont}
\usepackage{esint}
\usepackage{tikz}
\usepackage{tikz-3dplot}
\usetikzlibrary{positioning, arrows.meta, backgrounds, fit, calc}

% ==================================================

% Packages for writing
\usepackage{enumerate}
\usepackage[shortlabels]{enumitem}
\usepackage{framed}
\usepackage[utf8]{inputenc}
\usepackage{csquotes}


% ==================================================

% Miscellaneous packages
\usepackage{float}
\usepackage{tabularx}
\usepackage{multicol}
\usepackage{subcaption}
\usepackage{caption}
\captionsetup{format = hang, margin = 10pt, font = small, labelfont = bf}

% Citation
\usepackage[numbers, square]{natbib}

% Hyperlinks setup
\usepackage{hyperref}
\usepackage{cleveref}
\usepackage{listings}
\usepackage{etoolbox}
\usepackage{xcolor}
\usepackage{quoting}
\usepackage{changepage} % for adjustwidth

\newenvironment{fancyquote}[1][]
{\begin{adjustwidth}{2em}{2em}%
		\itshape
		\ifstrempty{#1}{}{---\ #1\\[1ex]}}
	{\end{adjustwidth}\vspace{1em}}


\lstset{
    language=Python,
    basicstyle=\ttfamily\footnotesize,
    keywordstyle=\color{blue},
    commentstyle=\color{gray},
    stringstyle=\color{red},
    breaklines=true,
    numbers=left,
    numberstyle=\tiny,
    stepnumber=1,
    numbersep=5pt,
    frame=single,
    captionpos=b,
    tabsize=4,
    showstringspaces=false,
}

\definecolor{links}{rgb}{0.36,0.54,0.66}
\hypersetup{
    colorlinks = false,
    linkcolor = red,
    urlcolor = blue,
    citecolor = blue,
    filecolor = blue,
    pdfauthor = {Author},
    pdftitle = {Title},
    pdfsubject = {subject},
    pdfborder = {0 0 1},
    linkbordercolor = {1 0 0},
    citebordercolor = {1 0 0},
    urlbordercolor  = {1 0 0},
    pdfkeywords = {one, two},
    pdfproducer = {LaTeX},
    pdfcreator = {pdfLaTeX},
   }

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}{Corollary}

\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem{axiom}{Axiom}[section]
\newtheorem{conjecture}{Conjecture}[section]
%\newtheorem{example}{Example}[section]

\theoremstyle{remark}
\newtheorem{remark}{Remark}
\newtheorem*{note}{Note}

\usepackage{mdframed}
% Define colors
\definecolor{formalshade}{rgb}{0.95,0.95,1} % Light blue background
\definecolor{darkblue}{rgb}{0.0, 0.0, 0.55} % Border color
\newmdenv[
  leftmargin=4pt,
  rightmargin=4pt,
  backgroundcolor=formalshade,
  linecolor=darkblue,
  linewidth=2pt,
  roundcorner=4pt,
  innerleftmargin=6pt,
  innerrightmargin=6pt,
  innertopmargin=6pt,
  innerbottommargin=6pt,
  skipabove=6pt,
  skipbelow=6pt,
  nobreak=true, % Allows spanning pages
]{formal}

\usepackage{booktabs}  % For \toprule, \midrule, \bottomrule
\usepackage{array}     % For improved table formatting

\newcommand{\notimplies}{\;\not\!\!\!\implies}

%%%%%%%%%%%%%%%%%%%%%%%%% HEADER AND FOOTER
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancypagestyle{plain}
\fancyhf{}
\lhead{ASF}
\rhead{DBL SP25}

% --- Basic commands ---
%   Euler's constant
\newcommand{\eu}{\mathrm{e}}

%   Imaginary unit
\newcommand{\im}{\mathrm{i}}

%   Sexagesimal degree symbol
\newcommand{\grado}{\,^{\circ}}

% --- Comandos para álgebra lineal ---
% Matrix transpose
\newcommand{\transpose}[1]{{#1}^{\mathsf{T}}}

%%% Comandos para cálculo
%   Definite integral from -\infty to +\infty
\newcommand{\Int}{\int\limits_{-\infty}^{\infty}}

%   Indefinite integral
\newcommand{\rint}[2]{\int{#1}\dd{#2}}

%  Definite integral
\newcommand{\Rint}[4]{\int\limits_{#1}^{#2}{#3}\dd{#4}}

%   Dot product symbol (use the command \bigcdot)
\makeatletter
\newcommand*\bigcdot{\mathpalette\bigcdot@{.5}}
\newcommand*\bigcdot@[2]{\mathbin{\vcenter{\hbox{\scalebox{#2}{$\m@th#1\bullet$}}}}}
\makeatother

%   Hamiltonian
\newcommand{\Ham}{\hat{\mathcal{H}}}

%   Trace
\renewcommand{\Tr}{\mathrm{Tr}}

% Christoffel symbol of the second kind
\newcommand{\christoffelsecond}[4]{\dfrac{1}{2}g^{#3 #4}(\partial_{#1} g_{#2 #4} + \partial_{#2} g_{#1 #4} - \partial_{#4} g_{#1 #2})}

% Riemann curvature tensor
\newcommand{\riemanncurvature}[5]{\partial_{#3} \Gamma_{#4 #2}^{#1} - \partial_{#4} \Gamma_{#3 #2}^{#1} + \Gamma_{#3 #5}^{#1} \Gamma_{#4 #2}^{#5} - \Gamma_{#4 #5}^{#1} \Gamma_{#3 #2}^{#5}}

% Covariant Riemann curvature tensor
\newcommand{\covariantriemanncurvature}[5]{g_{#1 #5} R^{#5}{}_{#2 #3 #4}}

% Ricci tensor
\newcommand{\riccitensor}[5]{g_{#1 #5} R^{#5}{}_{#2 #3 #4}}

% \renewcommand{\familydefault}{\sfdefault}

% Boldface unit vector with a hat
\newcommand{\uv}[1]{\mathbf{\hat{#1}}}

\newcommand{\ep}{\varepsilon}

\DeclareMathOperator{\sgn}{sgn}

\usepackage{titlesec}
\usepackage[many]{tcolorbox}

% Adjust spacing after the chapter title
\titlespacing*{\chapter}{0cm}{-2.0cm}{0.50cm}
\titlespacing*{\section}{0cm}{0.50cm}{0.25cm}

% Indent 
\setlength{\parindent}{0pt}
\setlength{\parskip}{1ex}

% --- Theorems, lemma, corollary, postulate, definition ---
% \numberwithin{equation}{section}
\tcbuselibrary{skins, breakable,theorems}
\newtcbtheorem[]{problem}{Problem}%
    {enhanced,
    colback = black!5, %white,
    colbacktitle = black!5,
    coltitle = black,
    boxrule = 0pt,
    frame hidden,
    borderline west = {0.5mm}{0.0mm}{black},
    fonttitle = \bfseries\sffamily,
    breakable,
    before skip = 3ex,
    after skip = 3ex
}{problem}
\makeatletter
\let\example\relax
\makeatother
% Forcefully undefine \example (this is sometimes needed if it’s already defined)
\makeatletter
\let\example\relax
\makeatother

% Now define the 'example' environment using tcolorbox theorem style:
\newtcbtheorem[]{example}{Example}%
  {enhanced,
   colback = black!5, % background color
   colbacktitle = black!5, % title background color
   coltitle = black, % title text color
   boxrule = 0pt, % no box border
   frame hidden,
   borderline west = {0.5mm}{0.0mm}{black},
   fonttitle = \bfseries\sffamily,
   breakable,
   before skip = 3ex,
   after skip = 3ex
  }{example}
\newcommand{\vphi}{\varphi}

% --- You can define your own color box. Just copy the previous \newtcbtheorm definition and use the colors of yout liking and the title you want to use.

\newcommand{\bb}{\mathbb}
\usepackage[bottom]{footmisc}
%% Commands for PSET6
